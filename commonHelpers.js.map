{"version":3,"file":"commonHelpers.js","sources":["../src/img/group.svg","../src/js/refs.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__76526a08__\"","export const formEl = document.querySelector('.form')\nexport const galleryList = document.querySelector('.gallery')\nexport const loaderEl = document.querySelector('.loader')","export function requestToServer(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '43354074-012c59d6306474dc1e40056e0';\n\n  const searchParams = new URLSearchParams({\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    key: API_KEY,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}\n","export function renderCard(photos) {\nreturn photos.slice(0, 9).map((photo)=> `<li class=\"gallery__item\">\n<a href=\"${photo.largeImageURL}\">\n<img class=\"gallery__img\" src=\"${photo.largeImageURL}\" alt=\"${photo.tags}\">\n <div Class=\"info-gallery__box\">\n  <ul Class=\"info-gallery__list\">\n  <li Class=\"info-gallery__item\">\n     <p Class=\"info-gallery__text\">Likes</p>\n     <span Class=\"info-gallery__span\">${photo.likes}</span>\n  </li>\n  <li Class=\"info-gallery__item\">\n      <p Class=\"info-gallery__text\">Views</p>\n      <span Class=\"info-gallery__span\">${photo.views}</span>\n  </li>\n  <li Class=\"info-gallery__item\">\n      <p Class=\"info-gallery__text\">Comments</p>\n      <span Class=\"info-gallery__span\">${photo.comments}</span>\n </li>\n <li Class=\"info-gallery__item\">\n     <p Class=\"info-gallery__text\">Downloads</p>\n     <span Class=\"info-gallery__span\">${photo.downloads}</span>\n </li>\n  </ul>\n</div>\n</a>\n</li>`).join(\"\")\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// img\nimport error from './img/group.svg';\n\nimport { formEl, galleryList, loaderEl } from './js/refs';\nimport { requestToServer } from './js/pixabay-api';\nimport { renderCard } from './js/render-functions';\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  const inputValue = event.currentTarget.elements.search.value.trim();\n\n  loaderEl.classList.remove('is-hidden');\n  galleryList.innerHTML = '';\n\n\n  requestToServer(inputValue)\n    .then(response => {\n      if (inputValue === '' || response.hits.length === 0) {\n        return iziToast.error({\n          iconUrl: error,\n\n          message: `Sorry, there are no images matching<br> your search query. Please try again!`,\n          messageHTML: true,\n          messageColor: '#fff',\n          messageSize: '16px',\n\n          backgroundColor: '#ef4040',\n\n          position: 'topRight',\n\n          transitionIn: 'fadeInLeft',\n        });\n      }\n\n      galleryList.innerHTML = renderCard(response.hits);\n\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      loaderEl.classList.add('is-hidden');\n    });\n}\n"],"names":["error","formEl","galleryList","loaderEl","requestToServer","query","BASE_URL","API_KEY","searchParams","response","renderCard","photos","photo","onSubmit","event","inputValue","iziToast","SimpleLightbox"],"mappings":"6vBAAA,MAAeA,EAAA,2CCAFC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAW,SAAS,cAAc,SAAS,ECFjD,SAASC,EAAgBC,EAAO,CACrC,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAe,IAAI,gBAAgB,CACvC,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,IAAKE,CACT,CAAG,EAED,OAAO,MAAM,GAAGD,CAAQ,IAAIE,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCnBO,SAASC,EAAWC,EAAQ,CACnC,OAAOA,EAAO,MAAM,EAAG,CAAC,EAAE,IAAKC,GAAS;AAAA,WAC7BA,EAAM,aAAa;AAAA,iCACGA,EAAM,aAAa,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKhCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIVA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wCAIfA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MAKjD,EAAE,KAAK,EAAE,CACf,CCXAX,EAAO,iBAAiB,SAAUY,CAAQ,EAE1C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,OAAO,MAAM,OAE7DX,EAAS,UAAU,OAAO,WAAW,EACrCD,EAAY,UAAY,GAGxBE,EAAgBW,CAAU,EACvB,KAAKN,GAAY,CAChB,GAAIM,IAAe,IAAMN,EAAS,KAAK,SAAW,EAChD,OAAOO,EAAS,MAAM,CACpB,QAAShB,EAET,QAAS,+EACT,YAAa,GACb,aAAc,OACd,YAAa,OAEb,gBAAiB,UAEjB,SAAU,WAEV,aAAc,YACxB,CAAS,EAGHE,EAAY,UAAYQ,EAAWD,EAAS,IAAI,EAE/B,IAAIQ,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMjB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbG,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL"}